<div class="">
  IT 鐵人賽歷屆主題搜尋
  <app-search></app-search>
  <div *ngIf="!!(category$ | async)" class="mt-8">
    主題：
    <div
      class="inline-block leading-relaxed px-2 rounded bg-sky-500 text-white"
    >
      <span class="inline-block mr-2">{{ category$ | async }}</span>
      <span (click)="removeCate()" class="cursor-pointer">
        <fa-icon [icon]="['fas', 'xmark']" size="1x"> </fa-icon>
      </span>
    </div>
  </div>
  <div>
    <ng-container *ngIf="ironmanStoreService.getIronmanList$ | async as list">
      <p class="text-right">共 {{ list.length }} 筆</p>
      <ul *ngFor="let item of list">
        <li class="leading-loose mb-2 align-top">
          <div class="block md:inline-block">
            <span class="inline-block align-top">
              第{{ item.nth }}屆 ({{ item.year }})</span
            >
            <ng-container *ngIf="+item.nth >= 7; else history">
              <a
                [routerLink]="['../', item.nth + 'th']"
                [queryParams]="{
                  category: item.category,
                  key: key$ | async
                }"
                class="relative top-1 align-top mx-2 w-24 rounded bg-neutral-200 text-center text-xs leading-loose dark:bg-neutral-700 hover:bg-opacity-70 dark:hover:bg-opacity-70"
                >{{ item.category }}</a
              >
            </ng-container>
            <ng-template #history>
              <a
                [routerLink]="['../history']"
                [queryParams]="{
                  category: item.category,
                  key: key$ | async
                }"
                class="relative top-1 align-top mx-2 w-24 rounded bg-neutral-200 text-center text-xs leading-loose dark:bg-neutral-700 hover:bg-opacity-70 dark:hover:bg-opacity-70"
                >{{ item.category }}</a
              >
            </ng-template>
          </div>
          <div class="block md:inline-block">
            <a
              class="inline-block align-top hover:text-blue-500 mr-2"
              [href]="item.topicUrl"
              target="_blank"
            >
              {{ item.topic }}
            </a>
            <span class="inline-block align-top text-neutral-400">{{
              item.author
            }}</span>
          </div>
        </li>
      </ul>
    </ng-container>
  </div>
</div>
